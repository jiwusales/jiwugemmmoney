<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å‰ç‰©éŒ¢éŒ¢è¨ˆç®—æ©Ÿ</title>
<style>
* { box-sizing: border-box; }
body {
  font-family: Arial, sans-serif;
  background: #f9f9f9;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 20px; /* é ‚éƒ¨ç•™ç™½ */
}

/* æ¨™é¡Œ */
h1 {
  margin: 0 0 20px 0;
  font-size: 28px;
  text-align: center;
  color: #333;
}

/* å¡ç‰‡ */
.calculator {
  max-width: 400px;
  width: 90%;
  background: #fff;
  border-radius: 12px;
  padding: 30px; /* çµ±ä¸€ä¸Šä¸‹å·¦å³ç•™ç™½ */
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  min-height: 520px;
  display: flex;
  flex-direction: column;
}

/* åˆ‡æ›æŒ‰éˆ• */
.mode-switch {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 20px;
}
.mode-switch button {
  font-size: 24px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background: #ddd;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
}
.mode-switch button.active {
  background: #555;
  color: #fff;
}

/* è¼¸å…¥æ¬„ä½ */
label { display: block; margin-top: 10px; }
input {
  width: 100%;
  padding: 8px;
  margin-top: 5px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 16px;
}

/* çµæœå€ */
.result {
  margin-top: 20px;
  padding: 15px;
  background: #f1f1f1;
  border-radius: 8px;
}
.result p { margin: 6px 0; }

/* å¹£ç¨®å€å¡Š */
.section { display: none; }
.section.active { display: block; }
</style>
</head>
<body>

<h1>å‰ç‰©éŒ¢éŒ¢è¨ˆç®—æ©Ÿ</h1>

<div class="calculator">
  <div class="mode-switch">
    <button id="btnJPY" class="active" onclick="switchCurrency('JPY')">ğŸ‡¯ğŸ‡µ</button>
    <button id="btnCNY" onclick="switchCurrency('CNY')">ğŸ‡¨ğŸ‡³</button>
  </div>

  <!-- æ—¥å¹£ -->
  <div id="jpySection" class="section active">
    <label>åŸåƒ¹ï¼ˆÂ¥ï¼‰ï¼š</label>
    <input type="text" id="yen" oninput="calculate()">

    <label>ç¾åœ¨åŒ¯ç‡ï¼š</label>
    <input type="text" id="currentRate" oninput="calculate()">

    <label>ä»£è³¼åŒ¯ç‡ï¼š</label>
    <input type="text" id="agencyRate" oninput="calculate()">

    <label>é‹è²»ï¼ˆNTD$ï¼‰ï¼š</label>
    <input type="text" id="shippingFee" oninput="calculate()">
  </div>

  <!-- äººæ°‘å¹£ -->
  <div id="cnySection" class="section">
    <label>åŸåƒ¹ï¼ˆRMBÂ¥ï¼‰ï¼š</label>
    <input type="text" id="rmbPrice" oninput="calculate()">

    <label>ç¾åœ¨åŒ¯ç‡ï¼š</label>
    <input type="text" id="exchangeRate" oninput="calculate()">

    <label>æ‰‹çºŒè²»ï¼ˆ%ï¼‰ï¼š</label>
    <input type="text" id="fee" oninput="calculate()">

    <label>åˆ©æ½¤ï¼ˆNTD$ï¼‰ï¼š</label>
    <input type="text" id="profit" oninput="calculate()">

    <label>é‹è²»ï¼ˆNTD$ï¼‰ï¼š</label>
    <input type="text" id="shipping" oninput="calculate()">
  </div>

  <div class="result">
    <p id="cost">æˆæœ¬ï¼š0</p>
    <p id="price">å”®åƒ¹ï¼š0</p>
    <p id="profitResult">åˆ©æ½¤ï¼š0</p>
  </div>
</div>

<script>
function switchCurrency(type){
  document.getElementById("btnJPY").classList.toggle("active", type==="JPY");
  document.getElementById("btnCNY").classList.toggle("active", type==="CNY");

  document.getElementById("jpySection").classList.toggle("active", type==="JPY");
  document.getElementById("cnySection").classList.toggle("active", type==="CNY");

  calculate();
}

function calculate(){
  let cost=0, price=0, profit=0;

  const jpyActive = document.getElementById("jpySection").classList.contains("active");

  if(jpyActive){
    const yen = parseFloat(document.getElementById("yen").value)||0;
    const currentRate = parseFloat(document.getElementById("currentRate").value)||0;
    const agencyRate = parseFloat(document.getElementById("agencyRate").value)||0;
    const shippingFee = parseFloat(document.getElementById("shippingFee").value)||0;

    cost = Math.ceil(yen * currentRate);
    price = Math.ceil(yen * agencyRate + shippingFee);
    profit = Math.ceil(price - cost - shippingFee);

  } else {
    const rmb = parseFloat(document.getElementById("rmbPrice").value)||0;
    const rate = parseFloat(document.getElementById("exchangeRate").value)||0;
    const fee = (parseFloat(document.getElementById("fee").value)||0)/100;
    const shipping = parseFloat(document.getElementById("shipping").value)||0;

    cost = Math.ceil(rmb*(1+fee)*rate);
    price = Math.ceil(cost + shipping);
    profit = null; // äººæ°‘å¹£ä¸é¡¯ç¤ºåˆ©æ½¤
  }

  document.getElementById("cost").innerText = "æˆæœ¬ï¼š" + cost;
  document.getElementById("price").innerText = "å”®åƒ¹ï¼š" + price;
  document.getElementById("profitResult").innerText = profit !== null ? "åˆ©æ½¤ï¼š" + profit : "";
}
</script>

</body>
</html>